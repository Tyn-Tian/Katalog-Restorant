{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/accordion-initiator.js","webpack://restaurant-apps/./src/scripts/utils/drawer-initiator.js","webpack://restaurant-apps/./src/scripts/utils/like-button-presenter.js","webpack://restaurant-apps/./src/scripts/utils/review-button-initiator.js","webpack://restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["import AllList from '../views/pages/list';\r\nimport Detail from '../views/pages/detail';\r\nimport Like from '../views/pages/like';\r\n\r\nconst routes = {\r\n  '/': AllList,\r\n  '/detail/:id': Detail,\r\n  '/favorite': Like,\r\n};\r\n\r\nexport default routes;\r\n","const UrlParser = {\r\n  parseActiveUrlWithCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    const splitedUrl = this._urlSplitter(url);\r\n    return this._urlCombiner(splitedUrl);\r\n  },\r\n\r\n  parseActiveUrlWithoutCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    return this._urlSplitter(url);\r\n  },\r\n\r\n  _urlSplitter(url) {\r\n    const urlsSplits = url.split('/');\r\n    return {\r\n      resource: urlsSplits[1] || null,\r\n      id: urlsSplits[2] || null,\r\n      verb: urlsSplits[3] || null,\r\n    };\r\n  },\r\n\r\n  _urlCombiner(splitedUrl) {\r\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\r\n    + (splitedUrl.id ? '/:id' : '')\r\n    + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n  },\r\n};\r\n\r\nexport default UrlParser;\r\n","const AccordionInitiator = {\r\n  init({ accordionBtns }) {\r\n    for (const accordionBtn of accordionBtns) {\r\n      accordionBtn.addEventListener('click', () => {\r\n        this._accordionFunc(accordionBtn);\r\n      });\r\n    }\r\n  },\r\n\r\n  _accordionFunc(accordionBtn) {\r\n    const dropdown = accordionBtn.querySelector('i');\r\n\r\n    if (dropdown.classList.contains('down')) {\r\n      dropdown.classList.replace('down', 'up');\r\n    } else {\r\n      dropdown.classList.replace('up', 'down');\r\n    }\r\n\r\n    accordionBtn.classList.toggle('active');\r\n\r\n    accordionBtn.nextElementSibling.classList.toggle('active');\r\n  },\r\n};\r\n\r\nexport default AccordionInitiator;\r\n","const DrawerInitiator = {\r\n  init({ navBtn, navbar }) {\r\n    navBtn.addEventListener('click', () => {\r\n      this._toggleDrawer(navBtn, navbar);\r\n    });\r\n  },\r\n\r\n  _toggleDrawer(navBtn, navbar) {\r\n    const visible = navbar.getAttribute('data-visible');\r\n    if (visible === 'false') {\r\n      navbar.setAttribute('data-visible', true);\r\n      navBtn.setAttribute('aria-expanded', true);\r\n    } else {\r\n      navbar.setAttribute('data-visible', false);\r\n      navBtn.setAttribute('aria-expanded', false);\r\n    }\r\n  },\r\n};\r\n\r\nexport default DrawerInitiator;\r\n","import { createLikeRestaurantButtonTemplate, createLikedRestaurantButtonTemplate } from '../views/templates/template-creator';\r\n\r\nconst likeButtonPresenter = {\r\n  async init({ likeButtonContainer, favoriteRestaurants, res }) {\r\n    this._likeButtonContainer = likeButtonContainer;\r\n    this._res = res;\r\n    this._favoriteRestaurants = favoriteRestaurants;\r\n\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const { id } = this._res;\r\n\r\n    if (await this._isRestaurantExist(id)) {\r\n      this._renderLiked();\r\n    } else {\r\n      this._renderLike();\r\n    }\r\n  },\r\n\r\n  async _isRestaurantExist(id) {\r\n    const restaurant = await this._favoriteRestaurants.getRestaurant(id);\r\n    return !!restaurant;\r\n  },\r\n\r\n  _renderLike() {\r\n    this._likeButtonContainer.innerHTML = createLikeRestaurantButtonTemplate();\r\n\r\n    const likeButton = document.querySelector('#likeButton');\r\n    likeButton.addEventListener('click', async () => {\r\n      await this._favoriteRestaurants.putRestaurant(this._res);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderLiked() {\r\n    this._likeButtonContainer.innerHTML = createLikedRestaurantButtonTemplate();\r\n\r\n    const likeButton = document.querySelector('#likeButton');\r\n    likeButton.addEventListener('click', async () => {\r\n      await this._favoriteRestaurants.deleteRestaurant(this._res.id);\r\n      this._renderButton();\r\n    });\r\n  },\r\n};\r\n\r\nexport default likeButtonPresenter;\r\n","import CONFIG from '../globals/config';\r\nimport { createReviewTemplate } from '../views/templates/template-creator';\r\n\r\nconst reviewButtonInitiator = {\r\n  init({ reviewContainer, id }) {\r\n    this._reviewContainer = reviewContainer;\r\n    this._id = id;\r\n\r\n    this._renderAddButton();\r\n  },\r\n\r\n  _renderAddButton() {\r\n    this._reviewContainer.innerHTML = createReviewTemplate();\r\n\r\n    const addBtn = document.querySelector('.add-btn');\r\n    const form = document.querySelector('form');\r\n    addBtn.addEventListener('click', () => {\r\n      form.style.display = 'block';\r\n      addBtn.style.display = 'none';\r\n\r\n      this._cancelButton(form, addBtn);\r\n      this._submitButton(form, addBtn, this._id);\r\n    });\r\n  },\r\n\r\n  _cancelButton(form, addBtn) {\r\n    const cancelBtn = form.querySelector('.cancel-btn');\r\n    cancelBtn.addEventListener('click', () => {\r\n      form.style.display = 'none';\r\n      addBtn.style.display = 'block';\r\n    });\r\n  },\r\n\r\n  _submitButton(form, addBtn, id) {\r\n    const txtName = form.querySelector('.txtName');\r\n    const txtReview = form.querySelector('.txtReview');\r\n    form.addEventListener('submit', (e) => {\r\n      e.preventDefault();\r\n      fetch(`${CONFIG.BASE_URL}review`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          id,\r\n          name: txtName.value,\r\n          review: txtReview.value,\r\n        }),\r\n      })\r\n        .then((response) => response.json())\r\n        .then((json) => console.log(json));\r\n      txtName.value = '';\r\n      txtReview.value = '';\r\n      form.style.display = 'none';\r\n      addBtn.style.display = 'block';\r\n    });\r\n  },\r\n};\r\n\r\nexport default reviewButtonInitiator;\r\n","const swRegister = async () => {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.log('Service Worker not supported in the browser');\r\n  }\r\n\r\n  try {\r\n    await navigator.serviceWorker.register('./sw.bundle.js');\r\n    console.log('Service worker registered');\r\n  } catch (error) {\r\n    console.log('Failed to register service worker', error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["AllList","Detail","Like","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","init","accordionBtns","accordionBtn","addEventListener","_accordionFunc","dropdown","querySelector","classList","contains","replace","toggle","nextElementSibling","navBtn","navbar","_toggleDrawer","getAttribute","setAttribute","likeButtonContainer","favoriteRestaurants","res","_likeButtonContainer","_res","_favoriteRestaurants","_renderButton","_isRestaurantExist","_renderLiked","_renderLike","getRestaurant","restaurant","innerHTML","createLikeRestaurantButtonTemplate","document","putRestaurant","createLikedRestaurantButtonTemplate","deleteRestaurant","reviewContainer","_reviewContainer","_id","_renderAddButton","createReviewTemplate","addBtn","form","style","display","_cancelButton","_submitButton","txtName","txtReview","e","preventDefault","fetch","CONFIG","method","headers","body","JSON","stringify","name","value","review","then","response","json","console","log","navigator","serviceWorker","register"],"sourceRoot":""}